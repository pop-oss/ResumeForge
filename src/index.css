@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Legacy shadcn/ui variables (keeping for compatibility) */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.16 3% 46.91%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    /* ===== NEW DESIGN SYSTEM VARIABLES ===== */
    
    /* Primary Colors - Trust Blue */
    --color-primary: 37 99 235;        /* #2563EB */
    --color-primary-hover: 29 78 216;  /* #1D4ED8 */
    --color-primary-light: 59 130 246; /* #3B82F6 */
    
    /* CTA Color - Orange accent (WCAG AA compliant) */
    --color-cta: 234 88 12;            /* #EA580C - darker orange for better contrast */
    --color-cta-hover: 194 65 12;      /* #C2410C */
    
    /* Background Colors */
    --color-bg: 248 250 252;           /* #F8FAFC */
    --color-bg-card: 255 255 255;      /* #FFFFFF */
    --color-bg-muted: 241 245 249;     /* #F1F5F9 */
    
    /* Text Colors */
    --color-text: 30 41 59;            /* #1E293B */
    --color-text-muted: 71 85 105;     /* #475569 - WCAG AA compliant */
    --color-text-light: 100 116 139;   /* #64748B */
    
    /* Border Colors */
    --color-border: 226 232 240;       /* #E2E8F0 */
    --color-border-focus: 37 99 235;   /* #2563EB */
    
    /* Spacing */
    --spacing-xs: 0.25rem;   /* 4px */
    --spacing-sm: 0.5rem;    /* 8px */
    --spacing-md: 1rem;      /* 16px */
    --spacing-lg: 1.5rem;    /* 24px */
    --spacing-xl: 2rem;      /* 32px */
    --spacing-2xl: 3rem;     /* 48px */
    
    /* Border Radius */
    --radius-sm: 0.375rem;   /* 6px */
    --radius-md: 0.5rem;     /* 8px */
    --radius-lg: 0.75rem;    /* 12px */
    --radius-xl: 1rem;       /* 16px */
    --radius-2xl: 1.5rem;    /* 24px */
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
    --shadow-glass: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
    --shadow-paper: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
    
    /* Transitions */
    --transition-fast: 150ms ease-out;
    --transition-normal: 200ms ease-out;
    --transition-slow: 300ms ease-out;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;

    /* Dark mode design system overrides */
    --color-bg: 15 23 42;              /* #0F172A */
    --color-bg-card: 30 41 59;         /* #1E293B */
    --color-bg-muted: 51 65 85;        /* #334155 */
    --color-text: 248 250 252;         /* #F8FAFC */
    --color-text-muted: 148 163 184;   /* #94A3B8 */
    --color-border: 51 65 85;          /* #334155 */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Open Sans', sans-serif;
  }
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Poppins', sans-serif;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* 打印样式 */
@media print {
    /* 隐藏滚动条 */
    ::-webkit-scrollbar {
        display: none;
    }
    
    /* 重置 HTML 和 Body */
    html, body {
        margin: 0 !important;
        padding: 0 !important;
        background: white !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        overflow: visible !important;
        height: auto !important;
        width: 210mm !important;
    }
    
    /* 隐藏所有非预览元素 */
    .print\:hidden {
        display: none !important;
    }
    
    /* 简历预览区域 - 全屏显示 */
    #resume-preview {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        width: 210mm !important;
        min-height: 297mm !important;
        height: auto !important;
        margin: 0 !important;
        padding: 0 !important;
        box-shadow: none !important;
        transform: none !important;
        background: white !important;
        z-index: 99999 !important;
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    #resume-preview * {
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    /* 移除缩放 - 确保父容器也不缩放 */
    .print\:\!transform-none {
        transform: none !important;
    }
    
    /* 分页设置 */
    @page {
        size: A4;
        margin: 0;
    }
    
    /* 避免元素被分页截断 */
    h1, h2, h3, h4, h5, h6 {
        page-break-after: avoid !important;
        break-after: avoid !important;
    }
    
    p, li {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* ===== 智能分页控制 ===== */
    
    /* Section容器 - 尽量保持完整 */
    .resume-section {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* Section标题 - 不能单独留在页面底部 */
    .resume-section-header {
        page-break-after: avoid !important;
        break-after: avoid !important;
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* 条目（工作经历、项目等）- 保持完整 */
    .resume-item {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* 技能组 - 保持完整 */
    .skill-group {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* Highlight列表项 - 可以在项之间分页 */
    .highlight-item {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* 确保颜色正确打印 */
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
}
